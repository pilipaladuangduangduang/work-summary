# 推荐新增

### 描述↓↓↓↓↓↓↓

绘本播放完毕的推荐内容与搜索页默认结果内容都会使用该列表

点击新增，跳转到资源选择界面，可以选择绘本、视频、专辑

当选择新增的是绘本、视频的专辑，则在列表中直接显示展开展示该专辑内所有内容

当选择新增的是音频专辑，在列表中只占一行

### 注意事项↓↓↓↓↓↓↓

无

### 接口地址↓↓↓↓↓↓↓

http://120.26.4.86/cms/recommend/add POST

### 接口开发进度↓↓↓↓↓↓↓

[OK](#开发状态字典表)

### 请求参数↓↓↓↓↓↓↓

| 名称               | 类型               | 必填               | 描述
| :----------------- | :----------------- | :----------------- | :----------------- 
| content            | array              | yes                | [{'id': 'res_id', 'series_flag': false, 'res_type': 'BOOK'}, ...]

### 响应结果↓↓↓↓↓↓↓

| 名称               | 类型               | 描述
| :----------------- | :----------------- | :----------------- 
| resultCode         | int                | 响应码，详细信息请点[这里](#返回码字典表)
| resultMsg          | string             | 响应信息
| data               | array              | content，返回请求参数，出错时，便于调试

---

# 推荐编辑

### 描述↓↓↓↓↓↓↓

推荐编辑

### 注意事项↓↓↓↓↓↓↓

无

### 接口地址↓↓↓↓↓↓↓

http://120.26.4.86/cms/recommend/update POST

### 接口开发进度↓↓↓↓↓↓↓

[OK](#开发状态字典表)

### 请求参数↓↓↓↓↓↓↓

| 名称               | 类型               | 必填               | 描述
| :----------------- | :----------------- | :----------------- | :----------------- 
| id                 | string             | yes                | 资源id
| series_flag        | boolean            | yes                | 专辑标识：true为专辑，false为单个
| name               | string             | yes                | 资源名称
| cover              | string             | yes                | 资源图片

### 响应结果↓↓↓↓↓↓↓

| 名称               | 类型               | 描述
| :----------------- | :----------------- | :----------------- 
| resultCode         | int                | 响应码，详细信息请点[这里](#返回码字典表)
| resultMsg          | string             | 响应信息
| data               | object             | null

---

# 推荐批量开启/关闭

### 描述↓↓↓↓↓↓↓

分为开关两种状态。新增的资源默认都是关的状态。

状态为开的资源，用户在客户端打开搜索页时会从所有开启状态的资源中随机展示8个

### 注意事项↓↓↓↓↓↓↓

无

### 接口地址↓↓↓↓↓↓↓

http://120.26.4.86/cms/recommend/switch POST

### 接口开发进度↓↓↓↓↓↓↓

[OK](#开发状态字典表)

### 请求参数↓↓↓↓↓↓↓

| 名称               | 类型               | 必填               | 描述
| :----------------- | :----------------- | :----------------- | :----------------- 
| ids                | array              | yes                | ['id0', 'id1', ...]
| status             | string             | yes                | 状态：opening（开） closed（关）

### 响应结果↓↓↓↓↓↓↓

| 名称               | 类型               | 描述
| :----------------- | :----------------- | :----------------- 
| resultCode         | int                | 响应码，详细信息请点[这里](#返回码字典表)
| resultMsg          | string             | 响应信息
| data               | object             | null

---

# 推荐批量删除

### 描述↓↓↓↓↓↓↓

推荐批量删除

### 注意事项↓↓↓↓↓↓↓

 - 开启状态下的资源不能删除

### 接口地址↓↓↓↓↓↓↓

http://120.26.4.86/cms/recommend/rm POST

### 接口开发进度↓↓↓↓↓↓↓

[OK](#开发状态字典表)

### 请求参数↓↓↓↓↓↓↓

| 名称               | 类型               | 必填               | 描述
| :----------------- | :----------------- | :----------------- | :----------------- 
| ids                | array              | yes                | 多个推荐id，['id0', 'id1']

### 响应结果↓↓↓↓↓↓↓

| 名称               | 类型               | 描述
| :----------------- | :----------------- | :----------------- 
| resultCode         | int                | 响应码，详细信息请点[这里](#返回码字典表)
| resultMsg          | string             | 响应信息
| data               | object             | null

---

# 推荐撤销批量删除状态

### 描述↓↓↓↓↓↓↓

推荐撤销批量删除状态

### 注意事项↓↓↓↓↓↓↓

无

### 接口地址↓↓↓↓↓↓↓

http://120.26.4.86/cms/recommend/undo/rm POST

### 接口开发进度↓↓↓↓↓↓↓

[OK](#开发状态字典表)

### 请求参数↓↓↓↓↓↓↓

| 名称               | 类型               | 必填               | 描述
| :----------------- | :----------------- | :----------------- | :----------------- 
| ids                | array              | yes                | 多个推荐id，['id0', 'id1']

### 响应结果↓↓↓↓↓↓↓

| 名称               | 类型               | 描述
| :----------------- | :----------------- | :----------------- 
| resultCode         | int                | 响应码，详细信息请点[这里](#返回码字典表)
| resultMsg          | string             | 响应信息
| data               | object             | null

---

# 推荐列表查询

### 描述↓↓↓↓↓↓↓

推荐列表查询

### 注意事项↓↓↓↓↓↓↓

 - 需要分页
 
 - 根据资源名称、id搜索资源，可以只输入名称或者id，当名称与id都填写时以id搜索为准。

### 接口地址↓↓↓↓↓↓↓

http://120.26.4.86/cms/recommend/list GET

### 接口开发进度↓↓↓↓↓↓↓

[OK](#开发状态字典表)

### 请求参数↓↓↓↓↓↓↓

| 名称               | 类型               | 必填               | 描述
| :----------------- | :----------------- | :----------------- | :----------------- 
| id                 | string             | no                 | 根据推荐id查询，用空格隔开时，可以查询多个
| name               | string             | no                 | 根据推荐名称查询，用空格隔开时，可以查询多个
| status             | string             | no                 | 开关状态，opening closed
| get_way            | string             | no                 | 收费状态：free vip seri toll（专辑特有）
| page_num           | int                | yes                | 第几页，不能小于1
| rows               | int                | yes                | 一页几条，不能大于20

### 响应结果↓↓↓↓↓↓↓

| 名称               | 类型               | 描述
| :----------------- | :----------------- | :----------------- 
| resultCode         | int                | 响应码，详细信息请点[这里](#返回码字典表)
| resultMsg          | string             | 响应信息
| data               | object             | {'list': [[ResModel](#resmodel), ResModel, ...], 'count': 2}

---

# 返回码字典表

| 返回码             | 描述
| :----------------- | :----------------- 
| 0                  | 操作成功
| 1                  | 操作失败

# 开发状态字典表

| 状态码             | 描述
| :----------------- | :----------------- 
| OK                 | 开发完成，自测通过
| DEV                | 开发中

---

# 数据类型

描述：

XxxForm 指的是前端提交给后端的数据模型

XxxModel 指的是后端返回给前端的数据模型

### ResModel

| 名称               | 类型               | 描述
| :----------------- | :----------------- | :----------------- 
| id                 | string             | 资源id
| name               | string             | 资源名称
| cover              | string             | 资源封面
| status             | string             | 开启或关闭状态：opening closed
| get_way            | string             | 收费状态：free vip seri toll（专辑特有）
| modify_time        | datetime           | 状态更新时间
