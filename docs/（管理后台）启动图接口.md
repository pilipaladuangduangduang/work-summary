# 启动图后台接口

## 启动图创建接口

### 接口地址↓↓↓↓↓↓↓

http://120.26.4.86/cms/boot/pic/add POST

### 接口开发进度↓↓↓↓↓↓↓

[DEV](#开发状态字典表)

### 请求参数↓↓↓↓↓↓↓

| 名称               | 类型               | 是否必填           | 描述
| :----------------- | :----------------- | :----------------- | :----------------- 
| data               | array              | yes                | 多平台的启动图，单个也存储在数组中：[[BootPicForm](#bootpicform), BootPicForm, ...]

### 响应结果↓↓↓↓↓↓↓

| 名称               | 类型               | 描述
| :----------------- | :----------------- | :----------------- 
| resultCode         | int                | 响应码，详细信息请点[这里](#返回码字典表)
| resultMsg          | string             | 响应信息
| result             | object             | null

---

## 启动图列表接口

### 接口地址↓↓↓↓↓↓↓

http://120.26.4.86/cms/boot/pic/list GET

### 接口开发进度↓↓↓↓↓↓↓

[DEV](#开发状态字典表)

### 请求参数↓↓↓↓↓↓↓

| 名称               | 类型               | 是否必填           | 描述
| :----------------- | :----------------- | :----------------- | :----------------- 
| name               | string             | no                 | 启动图名称
| page_num           | int                | yes                | 第几页
| rows               | int                | yes                | 每页几条


### 响应结果↓↓↓↓↓↓↓

| 名称               | 类型               | 描述
| :----------------- | :----------------- | :----------------- 
| resultCode         | int                | 响应码，详细信息请点[这里](#返回码字典表)
| resultMsg          | string             | 响应信息
| result             | object             | {"count": 2, "list": [[BootPicModel](#bootpicmodel), BootPicModel, ...]}

---

## 启动图编辑接口

### 接口地址↓↓↓↓↓↓↓

http://120.26.4.86/cms/boot/pic/update POST

### 接口开发进度↓↓↓↓↓↓↓

[DEV](#开发状态字典表)

### 请求参数↓↓↓↓↓↓↓

| 名称               | 类型               | 是否必填           | 描述
| :----------------- | :----------------- | :----------------- | :----------------- 
| data               | array              | yes                | 多平台的启动图，单个也存储在数组中：[[BootPicForm](#bootpicform), BootPicForm, ...]

### 响应结果↓↓↓↓↓↓↓

| 名称               | 类型               | 描述
| :----------------- | :----------------- | :----------------- 
| resultCode         | int                | 响应码，详细信息请点[这里](#返回码字典表)
| resultMsg          | string             | 响应信息
| result             | object             | null

---

## 启动图删除

### 接口地址↓↓↓↓↓↓↓

http://120.26.4.86/cms/boot/pic/rm POST

### 接口开发进度↓↓↓↓↓↓↓

[DEV](#开发状态字典表)

### 请求参数↓↓↓↓↓↓↓

| 名称               | 类型               | 是否必填           | 描述
| :----------------- | :----------------- | :----------------- | :----------------- 
| id                 | string             | yes                | 启动图id

### 响应结果↓↓↓↓↓↓↓

| 名称               | 类型               | 描述
| :----------------- | :----------------- | :----------------- 
| resultCode         | int                | 响应码，详细信息请点[这里](#返回码字典表)
| resultMsg          | string             | 响应信息
| result             | object             | null

---

## 启动图撤销删除

### 接口地址↓↓↓↓↓↓↓

http://120.26.4.86/cms/boot/pic/undo/rm POST

### 接口开发进度↓↓↓↓↓↓↓

[DEV](#开发状态字典表)

### 请求参数↓↓↓↓↓↓↓

| 名称               | 类型               | 是否必填           | 描述
| :----------------- | :----------------- | :----------------- | :----------------- 
| id                 | string             | yes                | 启动图id

### 响应结果↓↓↓↓↓↓↓

| 名称               | 类型               | 描述
| :----------------- | :----------------- | :----------------- 
| resultCode         | int                | 响应码，详细信息请点[这里](#返回码字典表)
| resultMsg          | string             | 响应信息
| result             | object             | null

---

## 启动图开关

### 接口地址↓↓↓↓↓↓↓

http://120.26.4.86/cms/boot/pic/undo/switch POST

### 接口开发进度↓↓↓↓↓↓↓

[DEV](#开发状态字典表)

### 请求参数↓↓↓↓↓↓↓

| 名称               | 类型               | 是否必填           | 描述
| :----------------- | :----------------- | :----------------- | :----------------- 
| id                 | string             | yes                | 启动图id
| switch             | string             | yes                | on 或 off

### 响应结果↓↓↓↓↓↓↓

| 名称               | 类型               | 描述
| :----------------- | :----------------- | :----------------- 
| resultCode         | int                | 响应码，详细信息请点[这里](#返回码字典表)
| resultMsg          | string             | 响应信息
| result             | object             | null

---

# 返回码字典表

| 返回码             | 描述
| :----------------- | :----------------- 
| 0                  | 操作成功
| 1                  | 操作失败

# 开发状态字典表

| 状态码             | 描述
| :----------------- | :----------------- 
| OK                 | 开发完成，自测通过
| DEV                | 开发中

---

# 数据类型

描述：

XxxForm 指的是前端提交给后端的数据模型

XxxModel 指的是后端返回给前端的数据模型

## BootPicForm

| 名称                    | 类型               | 必填               | 描述
| :---------------------- | :----------------- | :----------------- | :-----------------
| id                      | string             | no                 | 启动图 id ，编辑的时候必填
| name                    | string             | yes                | 启动图名称，三个平台名称通用一个
| type                    | string             | yes                | 平台类型：app、ott、eedu
| url                     | string             | yes                | 图片地址
| link                    | string             | yes                | 跳转地址
| publish_time            | datetime           | no                 | 发布时间
| channel                 | array              | no                 | 渠道，可以有多个：["a", "b", ...]
| version_min             | string             | no                 | 起始版本号
| version_max             | string             | no                 | 终止版本号

## BootPicModel

对象比较复杂，所以通过 json 来表示：

	{
		"app": {
			"id": "",            # 启动图 id
			"name": "",          # 启动图名称
			"group_id": "",      # 组 id
			"link": "",          # 跳转链接
			"url": "",           # 图片地址
			"channel": [],       # 渠道，可以有多个，数组形式
			"version_min": "",   # 最低版本要求
			"version_max": "",   # 最高版本要求
			"publish_time": "",  # 发布时间，datetime
			"switch": "",        # 开关：on off
			"modify_time": "",   # 修改时间，datetime
			"status": "",        # 状态：已发布、定时发布
			"click_num": 0       # 点击数
		},
		"ott": 同上,
		"eedu": 同上
	}

