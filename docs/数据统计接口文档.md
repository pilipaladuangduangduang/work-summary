# 数据统计接口文档

## 注册用户统计

### 顶部数据接口

```
{
	"url": "http://{ip:port}/cms/data/register/top",
	
	"http-method": "get",
	
	"request-params": {
	},
	
	"response-data": {
            "result": {
                "today_login_num": "今日app登陆用户数",
                "today_app_register_num": "今日APP注册",
                "today_sms_register_num": "今日短信注册",
                "total_app_register_num": "累计APP注册",
                "total_sms_register_num": "累计短信注册"
            },
            "resultMsg": "success",
            "resultCode": 0
        }
	
}
```

### 每日（7天、30天）注册数据接口

```
{
	"url": "http://{ip:port}/cms/data/register/data/list",
	
	"http-method": "get",
	
	"request-params": {
        "day_start":"起始时间",
        "day_stop":"截止时间",
	"province":"省份"
	},
	
	"response-data": {
            "result": {
                "list": [
                    {
                        "date": "日期",
                        "active_num": "活跃用户",
                        "login_num": "登录用户",
                        "app_register_num": "app注册用户",
                        "sms_register_num": "短信注册用户",
                        "app_total_num": "app累计用户",
                        "sms_total_num": "短信累计用户",
			"province_info": [
			    {
			        "name": "省份名称",
			        "num": "该省对应的人数"	
			    },
			    ...
			]
                    },
                    ...
                ],
                "count": 1
            },
            "resultMsg": "success",
            "resultCode": 0,
            "success": true
        }
	
}
```

### 导出excel

```
{
	"url": "http://{ip:port}/cms/data/register/excel",
	
	"http-method": "get",
	
	"request-params": {
        "day_start":"起始时间",
        "day_stop":"截止时间"
	},
	
	"response-data": {
            "result": null,
            "resultMsg": "success",
            "resultCode": 0
        }
	
}
```

---

## 聪明豆数据统计

### 顶部数据接口

```
{
	"url": "http://{ip:port}/cms/data/point/top",
	
	"http-method": "get",
	
	"request-params": {
	},
	
	"response-data": {
            "result": {
                "today_producer_num": "今日聪明豆产出",
                "today_producer_joiner_num": "产出参与人数",
                "today_consumer_num": "今日聪明豆消耗",
                "today_consumer_joiner_num": "消耗参与人数"
            },
            "resultMsg": "success",
            "resultCode": 0
        }
	
}
```

### 每日（7天、30天）聪明豆数据接口

```
{
	"url": "http://{ip:port}/cms/data/point/data/list",
	
	"http-method": "get",
	
	"request-params": {
        "day_start":"起始时间",
        "day_stop":"截止时间"
	},
	
	"response-data": {
            "result": {
                "list": [
                    {
                        "date": "日期",
                        "producer_num": "聪明豆产出",
                        "producer_joiner_num": "产出参与用户",
                        "consumer_num": "聪明豆消耗",
                        "consumer_joiner_num": "消耗参与用户"
                    },
                    ...
                ],
                "count": 1
            },
            "resultMsg": "success",
            "resultCode": 0
        }
	
}
```

### 导出excel

```
{
	"url": "http://{ip:port}/cms/data/point/excel",
	
	"http-method": "get",
	
	"request-params": {
        "day_start":"起始时间",
        "day_stop":"截止时间"
	},
	
	"response-data": {
            "result": null,
            "resultMsg": "success",
            "resultCode": 0
        }
	
}
```

### 聪明豆具体行为数据接口

```
{
	"url": "http://{ip:port}/cms/data/point/data/detail",
	
	"http-method": "get",
	
	"request-params": {
    	    "day_start":"起始时间",
            "day_stop":"截止时间"
	},
	
	"response-data": {
            "result": {
                "producer" :[
                    {
                        "event":"行为名称",
                        "event_count":"行为次数",
                        "point_num":"消耗数量",
                        "joiner_num":"参与人数"
                    },
                    
                ],
                "consumer" :[
                    {
                        "event":"行为名称",
                        "event_count":"行为次数",
                        "point_num":"消耗数量",
                        "joiner_num":"参与人数"
                    },
                    
                ]
            },
            "resultMsg": "success",
            "resultCode": 0
        }
	
}
```

---

## 用户数据统计

### 用户列表接口

```
{
	"url": "http://{ip:port}/cms/data/user/list",
	
	"http-method": "get",
	
	"request-params": {
        "mdn":"手机号码",
        "imei":"设备号码",
	"suber_id":"用户ID",
	"register_src":"注册来源",	
        "price_start":"最低金额",
        "price_stop":"最高金额",
        "register_time_start":"注册时间起始",
        "register_time_stop":"注册时间结束",
	"active_time_start":"活跃时间起始",
        "active_time_stop":"活跃时间结束",
	"sort_field":"register_time|cost_price|last_point|active_time",
	"sort_reverse":"asc|desc"
	},
	
	"response-data": {
            "result": {
                "list": [
                    {
                        "nickname": "用户昵称",
			"mdn": "电话号码",
			"imei": "设备ID",
                        "cost_price": "累计消费金额",
                        "vip_expire_time": "会员到期时间",
			"total_point": "用户累计聪明豆",	
                        "last_point": "剩余聪明豆",
                        "active_time": "最近活跃时间",
                        "register_time": "注册时间",
                        "register_src": "注册来源",
                        "suber_id": "用户ID",
			"baby_age": "宝宝年龄",
			"baby_birthday": "宝宝生日"
                    },
                    ...
                ]
            },
            "resultMsg": "success",
            "resultCode": 0,
            "success": true
        }
	
}
```

### 用户列表数量

```
{
	"url": "http://{ip:port}/cms/data/user/list",
	
	"http-method": "get",
	
	"request-params": {
        "mdn":"手机号码",
        "imei":"设备号码",
	"suber_id":"用户ID",
	"register_src":"注册来源",	
        "price_start":"最低金额",
        "price_stop":"最高金额",
        "register_time_start":"注册时间起始",
        "register_time_stop":"注册时间结束",
	"active_time_start":"活跃时间起始",
        "active_time_stop":"活跃时间结束",
	"sort_field":"register_time|cost_price|last_point|active_time",
	"sort_reverse":"asc|desc"
	},
	
	"response-data": {
            "result": {
                "count":1111
            },
            "resultMsg": "success",
            "resultCode": 0,
            "success": true
        }
	
}
```

### 用户订单接口

```
{
	"url": "http://{ip:port}/cms/data/user/trade",
	
	"http-method": "get",
	
	"request-params": {
        "suber_id":"用户ID"
	},
	
	"response-data": {
            "result": [
                    {
                        "order_name": "订单名称",
                        "order_price": "订单价格",
                        "order_time": "订单时间"
                    },
                    {
                        "order_name": "订单名称",
                        "order_price": "订单价格",
                        "order_time": "订单时间"
                    },
                    ...
                ],
            "resultMsg": "success",
            "resultCode": 0
        }
	
}
```

### 调整会员时长接口

```
{
	"url": "http://{ip:port}/cms/data/user/vip",
	
	"http-method": "post",
	
	"request-params": {
        "suber_id":"用户ID",
        "days":"天数",
	"mdn":"电话号码"
	},
	
	"response-data": {
            "result": null,
            "resultMsg": "success",
            "resultCode": 0
        }
	
}
```

### 历史数据补全接口

```
{
	"url": "http://{ip:port}/cms/data/complete",
	
	"http-method": "get",
	
	"request-params": {
        "data_type":"user、province、point中的一个",
        "day_start":"开始时间",
	"day_stop":"结束时间"
	},
	
	"response-data": {
            "result": null,
            "resultMsg": "success",
            "resultCode": 0
        }
	
}
```
